webpackJsonp([1],[function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;n(262);var r=n(106),i=(n(3),n(178)),s=i.render,p=n(181),u=n(191),a=n(261),d=n(150),c=a(u(r)());s({$$typeof:l,type:p,key:null,ref:null,props:o(p.defaultProps,{history:c,routes:d}),_owner:null},document.getElementById("app"))},,,,,,,function(e,t,n){"use strict";var o=n(28),l=n(91),r="settings",i={autoCollapse:!0,replyLinks:!0,showDead:!1,showDeleted:!1,titleFontSize:18,listSpacing:16,offlineMode:!1,load:function(){var e=l.get(r);e&&o(this,JSON.parse(e))},save:function(){l.set(r,JSON.stringify({autoCollapse:this.autoCollapse,replyLinks:this.replyLinks,showDead:this.showDead,showDeleted:this.showDeleted,titleFontSize:this.titleFontSize,listSpacing:this.listSpacing,offlineMode:this.offlineMode}))}};e.exports=i},,,,,,function(e,t,n){"use strict";function o(e,t){i(e).once("value",function(e){t(e.val())})}function l(e,t){function n(n){l.push(n),l.length>=e.length&&t(l)}var l=[];e.forEach(function(e){o(e,n)})}function r(e){return a.child(e)}function i(e){return a.child("item/"+e)}function s(e){return a.child("user/"+e)}function p(){return a.child("updates/items")}var u=n(167),a=new u("https://hacker-news.firebaseio.com/v0");e.exports={fetchItem:o,fetchItems:l,storiesRef:r,itemRef:i,userRef:s,updatesRef:p}},,,,,,function(e,t,n){"use strict";var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,l=n(3),r=l.createClass({displayName:"Spinner",getDefaultProps:function(){return{size:6,spacing:2}},render:function(){var e=this.props.size+"px",t={height:e,width:e,marginRight:this.props.spacing+"px"};return{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"div",key:null,ref:null,props:{className:"bounce1",style:t},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{className:"bounce2",style:t},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{className:"bounce3",style:t},_owner:null}],className:"Spinner",style:{width:3*(Number(this.props.size)+Number(this.props.spacing))+"px"}},_owner:null}}});e.exports=r},function(e,t,n){"use strict";function o(e){return fetch(u+"/"+e+".json",a)}function l(e){return fetch(u+"/item/"+e+".json",a)}function r(e){return fetch(u+"/user/"+e+".json",a)}function i(){return fetch(u+"/updates/items/.json",a)}function s(e,t){l(e).once("value",function(e){t(e.val())})}function p(e,t){function n(n){o.push(n),o.length>=e.length&&t(o)}var o=[];e.forEach(function(e){s(e,n)})}n(174);var u="https://hacker-news.firebaseio.com/v0",a={method:"GET",headers:{Accept:"application/json"}};e.exports={fetchItem:s,fetchItems:p,storiesRef:o,itemRef:l,userRef:r,updatesRef:i}},,,,,,,function(e,t){"use strict";function n(e,t){var n=[];"undefined"==typeof t?t=e:n.push(e);for(var o=Object.keys(t),l=0,r=o.length;r>l;l++)t[o[l]]&&n.push(o[l]);return n.join(" ")}e.exports=n},function(e,t){"use strict";function n(e,t,n){for(var o=Object.keys(t),l=0,r=o.length;r>l;l++)e[o[l]]=t[o[l]];if(n)for(o=Object.keys(n),l=0,r=o.length;r>l;l++)e[o[l]]=n[o[l]];return e}e.exports=n},function(e,t,n){"use strict";function o(e){"undefined"!=typeof document&&(document.title=e?e+" | "+r:r)}var l=n(38),r=l.SITE_TITLE;e.exports=o},,,,,,,function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function r(e){for(var t=m[e],n=y[e],o=0,l=t.length;l>o;o++)n[o]=h[t[o]]||null}function i(e,t){return e?JSON.parse(e):t}var s=n(98),p=s.EventEmitter,u=n(13),a=n(20),d=n(7),c=n(28),f=null,m={},h={},y={},w=function(e){function t(n){o(this,t),e.call(this),this.type=n,n in m||(m[n]=[]),n in y||(y[n]=[],r(n)),this.onStorage=this.onStorage.bind(this),this.onStoriesUpdated=this.onStoriesUpdated.bind(this)}return l(t,e),t.prototype.getState=function(){return{ids:m[this.type],stories:y[this.type]}},t.prototype.itemUpdated=function(e,t){y[this.type][t]=e,h[e.id]=e},t.prototype.onStorage=function(e){h[e.key]&&this.emit(e.key)},t.prototype.onStoriesUpdated=function(e){d.offlineMode?m[this.type]=e:m[this.type]=e.val(),r(this.type),this.emit("update",this.getState())},t.prototype.start=function(){"undefined"!=typeof window&&(d.offlineMode?a.storiesRef(this.type).then(function(e){return e.json()}).then(function(e){this.onStoriesUpdated(e)}.bind(this)):(f=u.storiesRef(this.type),f.on("value",this.onStoriesUpdated)),window.addEventListener("storage",this.onStorage))},t.prototype.stop=function(){null!==f&&(d.offlineMode||f.off(),f=null),"undefined"!=typeof window&&window.removeEventListener("storage",this.onStorage)},t}(p);c(w,{getItem:function(e){return h[e]||null},loadSession:function(){"undefined"!=typeof window&&(d.offlineMode?(m=i(window.localStorage.idCache,{}),h=i(window.localStorage.itemCache,{})):(m=i(window.sessionStorage.idCache,{}),h=i(window.sessionStorage.itemCache,{})))},saveSession:function(){"undefined"!=typeof window&&(d.offlineMode?(window.localStorage.setItem("idCache",JSON.stringify(m)),window.localStorage.setItem("itemCache",JSON.stringify(h))):(window.sessionStorage.idCache=JSON.stringify(m),window.sessionStorage.itemCache=JSON.stringify(h)))}}),e.exports=w},function(e,t,n){"use strict";function o(e,t){return t.time-e.time}function l(e){var t=Object.keys(e).map(function(t){return e[t]});return t.sort(o),t}function r(){w.comments=i(y.comments),w.stories=i(y.stories)}function i(e){var t=l(e);return t.splice(f,Math.max(0,t.length-f)).forEach(function(t){delete e[t.id]}),t}function s(e){for(var t=0,n=e.length;n>t;t++){var o=e[t];o.deleted||"undefined"!=typeof $[o.type]&&("comment"===o.type?y.comments[o.id]=o:y.stories[o.id]=o)}r(),_.emit("updates",w)}var p=n(98).EventEmitter,u=n(13),a=n(20),d=n(7),c=n(38),f=c.UPDATES_CACHE_SIZE,m=n(28),h=null,y=null,w={},$={comment:!0,job:!0,poll:!0,story:!0},_=m(new p,{loadSession:function(){if("undefined"!=typeof window){var e=window.sessionStorage.updates;y=e?JSON.parse(e):{comments:{},stories:{}},r()}},saveSession:function(){"undefined"!=typeof window&&(window.sessionStorage.updates=JSON.stringify(y))},start:function(){null===h&&(d.offlineMode?a.updatesRef().then(function(e){return e.json()}).then(function(e){a.fetchItems(e,s)}):(h=u.updatesRef(),h.on("value",function(e){u.fetchItems(e.val(),s)})))},stop:function(){d.offlineMode||(h.off(),h=null)},getUpdates:function(){return w},getItem:function(e){return y.comments[e]||y.stories[e]||null},getComment:function(e){return y.comments[e]||null},getStory:function(e){return y.stories[e]||null}});_.off=_.removeListener,e.exports=_},function(e,t){"use strict";e.exports={ITEMS_PER_PAGE:30,SITE_TITLE:"React HN",UPDATES_CACHE_SIZE:500}},function(e,t){"use strict";function n(e,t){return(t||",s").split(",")[1===e?0:1]}e.exports=n},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=(n(3),n(31)),i=n(46).default,s=n(89),p=n(7),u=n(19),a=n(39),d={$$typeof:l,type:u,key:null,ref:null,props:o(u.defaultProps,{size:"20"}),_owner:null},c={$$typeof:l,type:"div",key:null,ref:null,props:{children:"Unable to load comment – this usually indicates the author has configured a delay. Trying again in 30 seconds.",className:"Comment__text"},_owner:null},f={fetchAncestors:function(e){var t=this;s.fetchCommentAncestors(e,function(e){t.isMounted()&&t.setState({parent:e.parent,op:e.op})})},renderCommentLoading:function(e){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[(this.props.loadingSpinner||e.delayed)&&d,e.delayed&&c],className:"Comment Comment--loading Comment--level"+this.props.level},_owner:null}},renderCommentDeleted:function(e,t){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{children:["[deleted] | ",{$$typeof:l,type:"a",key:null,ref:null,props:{children:"view on Hacker News",href:"https://news.ycombinator.com/item?id="+e.id},_owner:null}],className:"Comment__meta"},_owner:null},className:"Comment__content"},_owner:null},className:t.className},_owner:null}},renderError:function(e,t){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{children:["[error] | comment is ",JSON.stringify(e)," | ",{$$typeof:l,type:"a",key:null,ref:null,props:{children:"view on Hacker News",href:"https://news.ycombinator.com/item?id="+t.id},_owner:null}],className:"Comment__meta"},_owner:null},className:"Comment__content"},_owner:null},className:t.className},_owner:null}},renderCollapseControl:function(e){return{$$typeof:l,type:"span",key:null,ref:null,props:{children:["[",e?"+":"–","]"],className:"Comment__collapse",onClick:this.toggleCollapse,onKeyPress:this.toggleCollapse,tabIndex:"0"},_owner:null}},renderCommentMeta:function(e,t){return e.dead&&!p.showDead?{$$typeof:l,type:"div",key:null,ref:null,props:{children:[t.collapsible&&this.renderCollapseControl(t.collapsed),t.collapsible&&" ","[dead]",t.childCounts&&" | ("+t.childCounts.children+" child"+a(t.childCounts.children,",ren"),t.childCounts&&t.childCounts.newComments>0&&", ",t.childCounts&&t.childCounts.newComments>0&&{$$typeof:l,type:"em",key:null,ref:null,props:{children:[t.childCounts.newComments," new"]},_owner:null},t.childCounts&&")"],className:"Comment__meta"},_owner:null}:{$$typeof:l,type:"div",key:null,ref:null,props:{children:[t.collapsible&&this.renderCollapseControl(t.collapsed),t.collapsible&&" ",{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:e.by,to:"/user/"+e.by,className:"Comment__user"}),_owner:null}," ",{$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{date:1e3*e.time}),_owner:null},t.link&&" | ",t.link&&{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:"link",to:"/comment/"+e.id}),_owner:null},t.parent&&" | ",t.parent&&{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:"parent",to:"/"+this.state.parent.type+"/"+e.parent}),_owner:null},t.op&&" | on: ",t.op&&{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:this.state.op.title,to:"/"+this.state.op.type+"/"+this.state.op.id}),_owner:null},e.dead&&" | [dead]",t.childCounts&&" | ("+t.childCounts.children+" child"+a(t.childCounts.children,",ren"),t.childCounts&&t.childCounts.newComments>0&&", ",t.childCounts&&t.childCounts.newComments>0&&{$$typeof:l,type:"em",key:null,ref:null,props:{children:[t.childCounts.newComments," new"]},_owner:null},t.childCounts&&")"],className:"Comment__meta"},_owner:null}},renderCommentText:function(e,t){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[!e.dead||p.showDead?{$$typeof:l,type:"div",key:null,ref:null,props:{dangerouslySetInnerHTML:{__html:e.text}},_owner:null}:"[dead]",p.replyLinks&&t.replyLink&&!e.dead&&{$$typeof:l,type:"p",key:null,ref:null,props:{children:{$$typeof:l,type:"a",key:null,ref:null,props:{children:"reply",href:"https://news.ycombinator.com/reply?id="+e.id},_owner:null}},_owner:null}],className:"Comment__text"},_owner:null}}};e.exports=f},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=(n(3),n(31)),i=n(46).default,s=n(39),p=n(137),u=function(e){var t=p(e,!0).hostname,n=t.split(".").slice(-3);return"www"===n[0]&&n.shift(),n.join(".")},a={renderItemMeta:function(e,t){var n=new Date(1e3*e.time);return"job"===e.type?{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{date:n,className:"Item__time"}),_owner:null},className:"Item__meta"},_owner:null}:{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"span",key:null,ref:null,props:{children:["by ",{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:e.by,to:"/user/"+e.by}),_owner:null}],className:"Item__by"},_owner:null}," ",{$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{date:n,className:"Item__time"}),_owner:null},t],className:"Item__meta"},_owner:null}},renderItemTitle:function(e){var t,n=!!e.url;return t=e.dead?"[dead] "+e.title:n?{$$typeof:l,type:"a",key:null,ref:null,props:{children:e.title,href:e.url},_owner:null}:{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:e.title,to:"/"+e.type+"/"+e.id}),_owner:null},{$$typeof:l,type:"div",key:null,ref:null,props:{children:[" ",{$$typeof:l,type:"div",key:null,ref:null,props:{children:u(e.url),className:"Item__host"},_owner:null}," ",{$$typeof:l,type:"div",key:null,ref:null,props:{children:e.score,className:"Item__score"},_owner:null}," ",{$$typeof:l,type:"div",key:null,ref:null,props:{children:[t," ",{$$typeof:l,type:"span",key:null,ref:null,props:{children:["| ",{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:e.descendants>0?e.descendants+" comment"+s(e.descendants):"discuss",to:"/"+e.type+"/"+e.id}),_owner:null}]},_owner:null}],className:"Item__title"},_owner:null}],className:"Item__left"},_owner:null}}};e.exports=a},function(e,t,n){"use strict";function o(e,t){this.itemId=e.id,this.onCommentsChanged=t,this.children={},this.children[e.id]=[],this.isNew={},this.isCollapsed={}}var l=n(28);l(o.prototype,{getChildCounts:function(e){for(var t=0,n=0,o=[e.id];o.length;){for(var l=[],r=0,i=o.length;i>r;r++){var s=this.children[o[r]];s.length&&l.push.apply(l,s)}for(r=0,i=l.length;i>r;r++)this.isNew[l[r]]&&n++;t+=l.length,o=l}return{children:t,newComments:n}},commentAdded:function(e){e.deleted||(this.children[e.id]=[],this.children[e.parent].push(e.id))},commentDeleted:function(e){if(e){var t=this.children[e.parent];t.splice(t.indexOf(e.id),1)}},toggleCollapse:function(e){this.isCollapsed[e]=!this.isCollapsed[e],this.onCommentsChanged({type:"collapse"})}}),e.exports=o},function(e,t,n){"use strict";function o(e){var t=u.get(e);return t?JSON.parse(t):{lastVisit:null,commentCount:0,maxCommentId:0}}function l(e,t,n){r.call(this,e,t),this.startedLoading=Date.now(),this.parents={},this.commentCount=0,this.newCommentCount=0,this.maxCommentId=0,this.loading=!0,this.expectedComments=e.kids?e.kids.length:0,this.itemDescendantCount=e.descendants;var l=o(e.id);this.lastVisit=l.lastVisit,this.prevMaxCommentId=l.maxCommentId,this.isFirstVisit=null===l.lastVisit,n.cached||this.checkLoadCompletion()}var r=n(58),i=n(7),s=n(151),p=n(28),u=(n(39),n(91));l.loadState=o,l.prototype=p(Object.create(r.prototype),{constructor:l,numberOfCommentsChanged:s(function(){this.onCommentsChanged({type:"number"})},123),firstLoadComplete:function(){this.lastVisit=Date.now(),this.prevMaxCommentId=this.maxCommentId,this.isFirstVisit=!1,this.onCommentsChanged({type:"first_load_complete"})},checkLoadCompletion:function(){this.loading&&this.commentCount>=this.expectedComments&&(this.loading=!1,this.isFirstVisit?this.firstLoadComplete():i.autoCollapse&&this.newCommentCount>0&&this.collapseThreadsWithoutNewComments(),this._storeState())},_storeState:function(){u.set(this.itemId,JSON.stringify({lastVisit:Date.now(),commentCount:this.itemDescendantCount,maxCommentId:this.maxCommentId}))},itemUpdated:function(e){this.itemDescendantCount=e.descendants},commentAdded:function(e){return e.deleted?void(this.loading&&(this.expectedComments--,this.checkLoadCompletion())):(r.prototype.commentAdded.call(this,e),e.dead&&!i.showDead?this.expectedComments--:this.commentCount++,this.loading&&e.kids&&(this.expectedComments+=e.kids.length),this.prevMaxCommentId>0&&e.id>this.prevMaxCommentId&&(!e.dead||i.showDead)&&(this.newCommentCount++,this.isNew[e.id]=!0),e.id>this.maxCommentId&&(this.maxCommentId=e.id),e.parent!==this.itemId&&(this.parents[e.id]=e.parent),this.numberOfCommentsChanged(),void(this.loading&&this.checkLoadCompletion()))},commentDelayed:function(e){this.expectedComments--},commentDeleted:function(e){r.prototype.commentDeleted.call(this,e),this.commentCount--,this.isNew[e.id]&&(this.newCommentCount--,delete this.isNew[e.id]),delete this.parents[e.id],this.numberOfCommentsChanged()},commentDied:function(e){i.showDead||(this.commentCount--,this.isNew[e.id]&&(this.newCommentCount--,delete this.isNew[e.id]))},adjustExpectedComments:function(e){this.expectedComments+=e,this.checkLoadCompletion()},collapseThreadsWithoutNewComments:function(){for(var e=Object.keys(this.isNew),t={},n=0,o=e.length;o>n;n++)for(var l=this.parents[e[n]];l&&!t[l];)t[l]=!0,l=this.parents[l];for(var r={},i=this.children[this.itemId];i.length;){var s=[];for(n=0,o=i.length;o>n;n++){var p=i[n];if(t[p]){var u=this.children[p];u.length&&s.push.apply(s,u)}else this.isNew[p]||(r[p]=!0)}i=s}this.isCollapsed=r,this.onCommentsChanged({type:"collapse"})},markAsRead:function(){this.lastVisit=Date.now(),this.newCommentCount=0,this.prevMaxCommentId=this.maxCommentId,this.isNew={},this._storeState()},dispose:function(){this.numberOfCommentsChanged.cancel(),this._storeState()}}),e.exports=l},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),i=n(26),s=n(58),p=n(13),u=n(20),a=n(7),d=n(56),c=n(27),f=r.createClass({displayName:"Comment",mixins:[d,i],propTypes:{id:r.PropTypes.number.isRequired,level:r.PropTypes.number.isRequired,loadingSpinner:r.PropTypes.bool,threadStore:r.PropTypes.instanceOf(s).isRequired},getDefaultProps:function(){return{loadingSpinner:!1}},getInitialState:function(){return{comment:{}}},componentWillMount:function(){this.bindFirebaseRef()},componentWillUnmount:function(){this.clearDelayTimeout()},componentDidUpdate:function(e,t){if(!this.state.comment)return void this.props.threadStore.adjustExpectedComments(-1);if(t.comment&&t.comment.id){if(!t.comment.deleted&&this.state.comment.deleted&&this.props.threadStore.commentDeleted(this.state.comment),!t.comment.dead&&this.state.comment.dead)this.props.threadStore.commentDied(this.state.comment);else if(t.comment!==this.state.comment&&this.props.threadStore.loading){var n=this.state.comment.kids?this.state.comment.kids.length:0,o=t.comment.kids?t.comment.kids.length:0;this.props.threadStore.adjustExpectedComments(n-o)}}else this.state.comment.id&&(t.comment&&t.comment.delayed&&this.clearDelayTimeout(),this.props.threadStore.commentAdded(this.state.comment)),t.comment&&!t.comment.delayed&&this.state.comment.delayed&&this.props.threadStore.commentDelayed(this.props.id)},bindFirebaseRef:function(){a.offlineMode?u.itemRef(this.props.id).then(function(e){return e.json()}).then(function(e){this.replaceState({comment:e})}.bind(this)):this.bindAsObject(p.itemRef(this.props.id),"comment",this.handleFirebaseRefCancelled),this.timeout&&(this.timeout=null)},handleFirebaseRefCancelled:function(e){this.unbind("comment"),this.timeout=setTimeout(this.bindFirebaseRef,3e4),this.state.comment&&!this.state.comment.delayed&&(this.state.comment.delayed=!0,this.forceUpdate())},clearDelayTimeout:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},toggleCollapse:function(e){e.preventDefault(),this.props.threadStore.toggleCollapse(this.state.comment.id)},render:function(){var e=this.state.comment,t=this.props;if(!e)return this.renderError(e,{id:this.props.id,className:"Comment Comment--error Comment--level"+t.level});if(!e.id)return this.renderCommentLoading(e);if(e.dead&&!a.showDead)return null;if(e.deleted)return a.showDeleted?this.renderCommentDeleted(e,{className:"Comment Comment--deleted Comment--level"+t.level}):null;var n=t.threadStore.isNew[e.id],r=!!t.threadStore.isCollapsed[e.id],i=r&&t.threadStore.getChildCounts(e);r&&n&&(i.newComments=0);var s=c("Comment Comment--level"+t.level,{"Comment--collapsed":r,"Comment--dead":e.dead,"Comment--new":n});return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"div",key:null,ref:null,props:{children:[this.renderCommentMeta(e,{collapsible:!0,collapsed:r,link:!0,childCounts:i}),this.renderCommentText(e,{replyLink:!0})],className:"Comment__content"},_owner:null},e.kids&&{$$typeof:l,type:"div",key:null,ref:null,props:{children:e.kids.map(function(e){return{$$typeof:l,type:f,key:e,ref:null,props:o(f.defaultProps,{id:e,level:t.level+1,loadingSpinner:t.loadingSpinner,threadStore:t.threadStore}),_owner:null}}),className:"Comment__kids"},_owner:null}],className:s},_owner:null}}});e.exports=f},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),i=n(31),s=r.createClass({displayName:"Paginator",_onClick:function(e){setTimeout(function(){window.scrollTo(0,0)},0)},render:function(){return 1!==this.props.page||this.props.hasNext?{$$typeof:l,type:"div",key:null,ref:null,props:{children:[this.props.page>1&&{$$typeof:l,type:"span",key:null,ref:null,props:{children:{$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{children:"Prev",to:{pathname:"/"+this.props.route,query:{page:this.props.page-1}},onClick:this._onClick}),_owner:null},className:"Paginator__prev"},_owner:null},this.props.page>1&&this.props.hasNext&&" | ",this.props.hasNext&&{$$typeof:l,type:"span",key:null,ref:null,props:{children:{$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{children:"More",to:{pathname:"/"+this.props.route,query:{page:this.props.page+1}},onClick:this._onClick}),_owner:null},className:"Paginator__next"},_owner:null}],className:"Paginator"},_owner:null}:null}});e.exports=s},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=(n(3),n(31)),i=n(27),s={getNewCommentCount:function(e,t){return null===t.lastVisit?0:e.descendants-t.commentCount},renderListItem:function(e,t){if(e.deleted)return null;var n=this.getNewCommentCount(e,t);return{$$typeof:l,type:"li",key:null,ref:null,props:{children:[this.renderItemTitle(e),this.renderItemMeta(e,n>0&&{$$typeof:l,type:"span",key:null,ref:null,props:{children:[" ","(",{$$typeof:l,type:r,key:null,ref:null,props:o(r.defaultProps,{children:[n," new"],to:"/"+e.type+"/"+e.id}),_owner:null},")"],className:"ListItem__newcomments"},_owner:null})],className:i("ListItem",{"ListItem--dead":e.dead})},_owner:null}}};e.exports=s},function(e,t){"use strict";var n={getPageNumber:function(e){return"undefined"==typeof e&&(e=this.props.location.query.page),e&&/^\d+$/.test(e)?Math.max(1,Number(e)):1}};e.exports=n},function(e,t,n){(function(t){"use strict";function o(e,t,n){for(var o=e.id,r=e.parent;a[r]||d[r];){if(n.itemCount++,n.cacheHits++,d[r])return 1===n.itemCount&&(n.parent=d[r]),n.op=d[r],void t(n);a[r]&&(1===n.itemCount&&(n.parent={id:r,type:"comment"}),o=r,r=a[r])}c.getItem(r,function(e){n.itemCount++,a[o]=r,"comment"===e.type&&(a[e.id]=e.parent),l(e,t,n)},n)}function l(e,t,n){1===n.itemCount&&(n.parent=e),"comment"!==e.type?(n.op=e,d[e.id]={id:e.id,type:e.type,title:e.title},t(n)):o(e,t,n)}var r=n(13),i=n(20),s=n(36),p=n(37),u=n(7),a={},d={},c={getItem:function(e,n,o){var l=this.getCachedItem(e);l?(o&&o.cacheHits++,t(n,l)):u.offlineMode?i.fetchItem(e,n):r.fetchItem(e,n)},getCachedItem:function(e){return s.getItem(e)||p.getItem(e)||null},getCachedStory:function(e){return s.getItem(e)||p.getStory(e)||null},fetchCommentAncestors:function(e,n){var l=Date.now(),r={itemCount:0,cacheHits:0};o(e,function(){r.timeTaken=Date.now()-l,t(n,r)},r)}};e.exports=c}).call(t,n(55).setImmediate)},function(e,t){"use strict";function n(e,t,n){var o=(e-1)*t,l=Math.min(n,o+t),r=n-1>l;return{pageNum:e,startIndex:o,endIndex:l,hasNext:r}}e.exports=n},function(e,t){"use strict";e.exports={get:function(e,t){if("undefined"==typeof window)return t;var n=window.localStorage[e];return"undefined"!=typeof n?n:t},set:function(e,t){"undefined"!=typeof window&&(window.localStorage[e]=t)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),i=n(31),s=n(145),p=n(36),u=n(37),a=n(7),d={$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{children:{$$typeof:l,type:"img",key:null,ref:null,props:{src:"img/logo.png",width:"16",height:"16",alt:""},_owner:null},to:"/news",className:"App__homelinkicon"}),_owner:null},c={$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{children:"React HN",to:"/news",activeClassName:"active",className:"App__homelink"}),_owner:null},f={$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{children:"new",to:"/newest",activeClassName:"active"}),_owner:null},m={$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{children:"comments",to:"/newcomments",activeClassName:"active"}),_owner:null},h={$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{children:"show",to:"/show",activeClassName:"active"}),_owner:null},y={$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{children:"ask",to:"/ask",activeClassName:"active"}),_owner:null},w={$$typeof:l,type:i,key:null,ref:null,props:o(i.defaultProps,{children:"jobs",to:"/jobs",activeClassName:"active"}),_owner:null},$={$$typeof:l,type:s,key:"settings",ref:null,props:o(s.defaultProps,{}),_owner:null},_={$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:"a",key:null,ref:null,props:{children:"insin/react-hn",href:"https://github.com/insin/react-hn"},_owner:null},className:"App__footer"},_owner:null},k=r.createClass({displayName:"App",getInitialState:function(){return{showSettings:!1}},componentWillMount:function(){a.load(),p.loadSession(),u.loadSession(),"undefined"!=typeof window&&window.addEventListener("beforeunload",this.handleBeforeUnload)},componentWillUnmount:function(){"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.handleBeforeUnload)},handleBeforeUnload:function(){p.saveSession(),u.saveSession()},toggleSettings:function(e){e.preventDefault(),this.setState({showSettings:!this.state.showSettings})},render:function(){return{$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"div",key:null,ref:null,props:{children:[d," ",c," ",f," | ",m," "," | ",h," | ",y," | ",w,{$$typeof:l,type:"a",key:null,ref:null,props:{children:this.state.showSettings?"hide settings":"settings",className:"App__settings",tabIndex:"0",onClick:this.toggleSettings,onKeyPress:this.toggleSettings},_owner:null},this.state.showSettings&&$],className:"App__header"},_owner:null},{$$typeof:l,type:"div",key:null,ref:null,props:{children:this.props.children,className:"App__content"},_owner:null},_],className:"App__wrap"},_owner:null},className:"App",onClick:this.state.showSettings&&this.toggleSettings},_owner:null}}});e.exports=k},function(e,t,n){"use strict";var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,l=n(3),r=n(7),i=n(56),s=n(27),p=l.createClass({displayName:"DisplayComment",mixins:[i],propTypes:{comment:l.PropTypes.object.isRequired},getInitialState:function(){return{op:{},parent:{type:"comment"}}},componentWillMount:function(){this.fetchAncestors(this.props.comment)},render:function(){if(this.props.comment.deleted)return null;if(this.props.comment.dead&&!r.showDead)return null;var e=this.props.comment,t=s("Comment Comment--level0",{"Comment--dead":e.dead});return{$$typeof:o,type:"div",key:null,ref:null,props:{children:{$$typeof:o,type:"div",key:null,ref:null,props:{children:[this.renderCommentMeta(e,{link:!0,parent:!!this.state.parent.id&&!!this.state.op.id&&e.parent!==this.state.op.id,op:!!this.state.op.id}),this.renderCommentText(e,{replyLink:!1})],className:"Comment__content"},_owner:null},className:t},_owner:null}}});e.exports=p},function(e,t,n){"use strict";var o=n(3),l=n(59),r=n(57),i=n(87),s=o.createClass({displayName:"DisplayListItem",mixins:[r,i],propTypes:{item:o.PropTypes.object.isRequired},componentWillMount:function(){this.threadState=l.loadState(this.props.item.id)},render:function(){return this.renderListItem(this.props.item,this.threadState)}});e.exports=s},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function l(e,t,n){return 1===e?t:e+" "+t+"s"}var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(3),s=n(26),p=n(46).default,u=n(13),a=n(20),d=n(59),c=n(89),f=n(85),m=n(144),h=n(19),y=n(57),w=n(27),$=n(29),_=n(7),k={$$typeof:r,type:"div",key:null,ref:null,props:{children:{$$typeof:r,type:h,key:null,ref:null,props:o(h.defaultProps,{size:"20"}),_owner:null},className:"Item Item--loading"},_owner:null},C=i.createClass({displayName:"Item",mixins:[y,s],getInitialState:function(){return{item:c.getCachedStory(Number(this.props.params.id))||{}}},componentWillMount:function(){_.offlineMode?a.itemRef(this.props.params.id).then(function(e){return e.json()}).then(function(e){this.replaceState({item:e})}.bind(this)):this.bindAsObject(u.itemRef(this.props.params.id),"item"),this.state.item.id&&(this.threadStore=new d(this.state.item,this.handleCommentsChanged,{cached:!0}),$(this.state.item.title)),window.addEventListener("beforeunload",this.handleBeforeUnload)},componentWillUnmount:function(){this.threadStore&&this.threadStore.dispose(),window.removeEventListener("beforeunload",this.handleBeforeUnload)},componentWillReceiveProps:function(e){if(this.props.params.id!==e.params.id){this.threadStore.dispose(),this.threadStore=null,this.unbind("item");var t=c.getCachedStory(Number(e.params.id));t&&(this.threadStore=new d(t,this.handleCommentsChanged,{cached:!0}),$(t.title)),_.offlineMode?a.itemRef(e.params.id).then(function(e){return e.json()}).then(function(e){this.replaceState({item:e})}.bind(this)):(this.bindAsObject(u.itemRef(e.params.id),"item"),this.setState({item:t||{}}))}},componentWillUpdate:function(e,t){!this.state.item.id&&t.item.id&&$(t.item.title)},componentDidUpdate:function(e,t){if(t.item.id!==this.state.item.id)this.threadStore&&this.threadStore.itemId===this.state.item.id||(this.threadStore=new d(this.state.item,this.handleCommentsChanged,{cached:!1}),$(this.state.item.title),this.forceUpdate());else if(t.item!==this.state.item){if(this.threadStore.loading){var n=this.state.item.kids?this.state.item.kids.length:0,o=t.item.kids?t.item.kids.length:0,l=n-o;0!==l&&this.threadStore.adjustExpectedComments(l)}this.threadStore.itemUpdated(this.state.item)}},handleBeforeUnload:function(){this.threadStore&&this.threadStore.dispose()},handleCommentsChanged:function(e){this.forceUpdate()},autoCollapse:function(e){e.preventDefault(),this.threadStore.collapseThreadsWithoutNewComments()},markAsRead:function(e){e.preventDefault(),this.threadStore.markAsRead(),this.forceUpdate()},render:function(){var e=this.state,t=e.item,n=this.threadStore;return t.id&&n?{$$typeof:r,type:"div",key:null,ref:null,props:{children:[{$$typeof:r,type:"div",key:null,ref:null,props:{children:[this.renderItemTitle(t),this.renderItemMeta(t,null!==n.lastVisit&&n.newCommentCount>0&&{$$typeof:r,type:"span",key:null,ref:null,props:{children:[" ","(",{$$typeof:r,type:"em",key:null,ref:null,props:{children:[n.newCommentCount," new"]},_owner:null}," in the last ",{$$typeof:r,type:p,key:null,ref:null,props:o(p.defaultProps,{date:n.lastVisit,formatter:l}),_owner:null},") | ",{$$typeof:r,type:"span",key:null,ref:null,props:{children:"auto collapse",
className:"control",tabIndex:"0",onClick:this.autoCollapse,onKeyPress:this.autoCollapse,title:"Collapse threads without new comments"},_owner:null}," | ",{$$typeof:r,type:"span",key:null,ref:null,props:{children:"mark as read",className:"control",tabIndex:"0",onClick:this.markAsRead,onKeyPress:this.markAsRead},_owner:null}]},_owner:null}),t.text&&{$$typeof:r,type:"div",key:null,ref:null,props:{children:{$$typeof:r,type:"div",key:null,ref:null,props:{dangerouslySetInnerHTML:{__html:t.text}},_owner:null},className:"Item__text"},_owner:null},"poll"===t.type&&{$$typeof:r,type:"div",key:null,ref:null,props:{children:t.parts.map(function(e){return{$$typeof:r,type:m,key:e,ref:null,props:o(m.defaultProps,{id:e}),_owner:null}}),className:"Item__poll"},_owner:null}],className:"Item__content"},_owner:null},t.kids&&{$$typeof:r,type:"div",key:null,ref:null,props:{children:t.kids.map(function(e,t){return{$$typeof:r,type:f,key:e,ref:null,props:o(f.defaultProps,{id:e,level:0,loadingSpinner:0===t,threadStore:n}),_owner:null}}),className:"Item__kids"},_owner:null}],className:w("Item",{"Item--dead":t.dead})},_owner:null}:k}});e.exports=C},function(e,t,n){"use strict";var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,l=n(3),r={$$typeof:o,type:"h2",key:null,ref:null,props:{children:"Not found"},_owner:null},i=l.createClass({displayName:"NotFound",render:function(){return r}});e.exports=i},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),i=n(26),s=n(192),p=n(58),u=n(13),a=n(20),d=n(7),c=n(37),f=n(85),m=n(56),h=n(27),y=n(29),w=r.createClass({displayName:"PermalinkedComment",mixins:[m,i],getDefaultProps:function(){return{level:0,loadingSpinner:!0}},getInitialState:function(){return{comment:c.getComment(this.props.params.id)||{},parent:{type:"comment"},op:{}}},componentWillMount:function(){d.offlineMode?a.itemRef(this.props.params.id).then(function(e){return e.json()}).then(function(e){this.replaceState({comment:e})}.bind(this)):this.bindAsObject(u.itemRef(this.props.params.id),"comment"),this.state.comment.id&&this.commentLoaded(this.state.comment)},componentWillReceiveProps:function(e){if(e.params.id!==this.props.params.id){var t=c.getComment(e.params.id);t&&(this.commentLoaded(t),this.setState({comment:t})),this.unbind("comment"),this.bindAsObject(u.itemRef(e.params.id),"comment")}},componentWillUpdate:function(e,t){if(t.comment&&this.state.comment.id!==t.comment.id){if(!t.comment.deleted&&"comment"!==t.comment.type)return void this.props.router.replace("/"+t.comment.type+"/"+t.comment.id);this.threadStore&&this.threadStore.itemId===t.comment.id||this.commentLoaded(t.comment)}},commentLoaded:function(e){this.setTitle(e),e.deleted||(this.threadStore=new p(e,this.handleCommentsChanged),this.fetchAncestors(e))},setTitle:function(e){if(e.deleted)return y("Deleted comment");var t="Comment by "+e.by;this.state.op.id&&(t+=" | "+this.state.op.title),y(t)},handleCommentsChanged:function(e){"collapse"===e.type&&this.forceUpdate()},render:function(){var e=this.state.comment;if(!e)return this.renderError(e,{id:this.props.params.id,className:"Comment Comment--level0 Comment--error"});if(!e.id)return this.renderCommentLoading(e);if(e.deleted)return this.renderCommentDeleted(e,{className:"Comment Comment--level0 Comment--deleted"});if("comment"!==e.type)return null;var t=h("PermalinkedComment Comment Comment--level0",{"Comment--dead":e.dead}),n=this.threadStore;return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"div",key:null,ref:null,props:{children:[this.renderCommentMeta(e,{parent:!!this.state.parent.id&&!!this.state.op.id&&e.parent!==this.state.op.id,op:!!this.state.op.id}),(!e.dead||d.showDead)&&this.renderCommentText(e,{replyLink:!0})],className:"Comment__content"},_owner:null},e.kids&&{$$typeof:l,type:"div",key:null,ref:null,props:{children:e.kids.map(function(e,t){return{$$typeof:l,type:f,key:e,ref:null,props:o(f.defaultProps,{id:e,level:0,loadingSpinner:0===t,threadStore:n}),_owner:null}}),className:"Comment__kids"},_owner:null}],className:t},_owner:null}}});e.exports=s(w)},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),i=n(26),s=n(13),p=n(19),u=n(39),a={$$typeof:l,type:"div",key:null,ref:null,props:{children:{$$typeof:l,type:p,key:null,ref:null,props:o(p.defaultProps,{size:"20"}),_owner:null},className:"PollOption PollOption--loading"},_owner:null},d=r.createClass({displayName:"PollOption",mixins:[i],getInitialState:function(){return{pollopt:{}}},componentWillMount:function(){this.bindAsObject(s.itemRef(this.props.id),"pollopt")},render:function(){var e=this.state.pollopt;return e.id?{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"div",key:null,ref:null,props:{children:e.text,className:"PollOption__text"},_owner:null},{$$typeof:l,type:"div",key:null,ref:null,props:{children:[e.score," point",u(e.score)],className:"PollOption__score"},_owner:null}],className:"PollOption"},_owner:null}:a}});e.exports=d},function(e,t,n){"use strict";var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,l=n(3),r=n(7),i={$$typeof:o,type:"p",key:null,ref:null,props:{children:"Automatically collapse comment threads without new comments on page load."},_owner:null},s={$$typeof:o,type:"p",key:null,ref:null,props:{children:'Show "reply" links to Hacker News'},_owner:null},p={$$typeof:o,type:"p",key:null,ref:null,props:{children:"Cache comments and content offline."},_owner:null},u={$$typeof:o,type:"p",key:null,ref:null,props:{children:"Show items flagged as dead."},_owner:null},a={$$typeof:o,type:"p",key:null,ref:null,props:{children:"Show comments flagged as deleted in threads."},_owner:null},d={$$typeof:o,type:"td",key:null,ref:null,props:{children:{$$typeof:o,type:"label",key:null,ref:null,props:{children:"title font size:",htmlFor:"titleFontSize"},_owner:null}},_owner:null},c={$$typeof:o,type:"td",key:null,ref:null,props:{children:{$$typeof:o,type:"label",key:null,ref:null,props:{children:"list spacing:",htmlFor:"listSpacing"},_owner:null}},_owner:null},f=l.createClass({displayName:"Settings",componentDidMount:function(){this.refs.container.focus()},onChange:function(e){var t=e.target;"checkbox"===t.type?r[t.name]=t.checked:"number"===t.type&&t.value&&(r[t.name]=t.value),this.forceUpdate(),r.save()},onClick:function(e){e.stopPropagation()},render:function(){return l.createElement("div",{ref:"container",className:"Settings",tabIndex:"-1",onClick:this.onClick},{$$typeof:o,type:"form",key:null,ref:null,props:{children:[{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"label",key:null,ref:null,props:{children:[{$$typeof:o,type:"input",key:null,ref:null,props:{type:"checkbox",name:"autoCollapse",id:"autoCollapse",checked:r.autoCollapse},_owner:null}," auto collapse"],htmlFor:"autoCollapse"},_owner:null},i],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"label",key:null,ref:null,props:{children:[{$$typeof:o,type:"input",key:null,ref:null,props:{type:"checkbox",name:"replyLinks",id:"replyLinks",checked:r.replyLinks},_owner:null}," show reply links"],htmlFor:"replyLinks"},_owner:null},s],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"label",key:null,ref:null,props:{children:[{$$typeof:o,type:"input",key:null,ref:null,props:{type:"checkbox",name:"offlineMode",id:"offlineMode",checked:r.offlineMode},_owner:null}," Offline Mode"],htmlFor:"offlineMode"},_owner:null},p],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"label",key:null,ref:null,props:{children:[{$$typeof:o,type:"input",key:null,ref:null,props:{type:"checkbox",name:"showDead",id:"showDead",checked:r.showDead},_owner:null}," show dead"],htmlFor:"showDead"},_owner:null},u],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:[{$$typeof:o,type:"label",key:null,ref:null,props:{children:[{$$typeof:o,type:"input",key:null,ref:null,props:{type:"checkbox",name:"showDeleted",id:"showDeleted",checked:r.showDeleted},_owner:null}," show deleted"],htmlFor:"showDeleted"},_owner:null},a],className:"Settings__setting Settings__setting--checkbox"},_owner:null},{$$typeof:o,type:"div",key:null,ref:null,props:{children:{$$typeof:o,type:"table",key:null,ref:null,props:{children:{$$typeof:o,type:"tbody",key:null,ref:null,props:{children:[{$$typeof:o,type:"tr",key:null,ref:null,props:{children:[d,{$$typeof:o,type:"td",key:null,ref:null,props:{children:{$$typeof:o,type:"input",key:null,ref:null,props:{type:"number",min:"13.333",step:"1",name:"titleFontSize",id:"titleFontSize",value:r.titleFontSize},_owner:null}},_owner:null}]},_owner:null},{$$typeof:o,type:"tr",key:null,ref:null,props:{children:[c,{$$typeof:o,type:"td",key:null,ref:null,props:{children:{$$typeof:o,type:"input",key:null,ref:null,props:{type:"number",min:"0",name:"listSpacing",id:"listSpacing",value:r.listSpacing},_owner:null}},_owner:null}]},_owner:null}]},_owner:null}},_owner:null},className:"Settings__setting"},_owner:null}],onChange:this.onChange},_owner:null})}});e.exports=f},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),i=n(36),s=n(88),p=n(86),u=n(19),a=n(147),d=n(7),c=n(38),f=c.ITEMS_PER_PAGE,m=n(90),h=n(29),y={$$typeof:l,type:u,key:null,ref:null,props:o(u.defaultProps,{}),_owner:null},w=r.createClass({displayName:"Stories",mixins:[s],propTypes:{limit:r.PropTypes.number.isRequired,route:r.PropTypes.string.isRequired,type:r.PropTypes.string.isRequired,title:r.PropTypes.string},getInitialState:function(){return{ids:[],limit:this.props.limit,stories:[]}},componentDidMount:function(){h(this.props.title),this.store=new i(this.props.type),this.store.addListener("update",this.handleUpdate),this.store.start(),this.setState(this.store.getState())},componentWillUnmount:function(){this.store.removeListener("update",this.handleUpdate),this.store.stop(),this.store=null},handleUpdate:function(e){this.isMounted()&&(e.limit=e.ids.length,this.setState(e))},render:function(){var e=m(this.getPageNumber(),f,this.state.limit);if(0===this.state.stories.length&&0===this.state.ids.length){for(var t=[],n=e.startIndex;n<e.endIndex;n++)t.push({$$typeof:l,type:"li",key:n,ref:null,props:{children:y,className:"ListItem ListItem--loading",style:{marginBottom:d.listSpacing}},_owner:null});return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"ol",key:null,ref:null,props:{children:t,className:"Items__list",start:e.startIndex+1},_owner:null},{$$typeof:l,type:p,key:null,ref:null,props:o(p.defaultProps,{route:this.props.route,page:e.pageNum,hasNext:e.hasNext}),_owner:null}],className:"Items Items--loading"},_owner:null}}return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"ol",key:null,ref:null,props:{children:this.renderItems(e.startIndex,e.endIndex),className:"Items__list",start:e.startIndex+1},_owner:null},{$$typeof:l,type:p,key:null,ref:null,props:o(p.defaultProps,{route:this.props.route,page:e.pageNum,hasNext:e.hasNext}),_owner:null}],className:"Items"},_owner:null}},renderItems:function(e,t){for(var n=[],r=e;t>r;r++){var i=this.state.stories[r],s=this.state.ids[r];s?n.push({$$typeof:l,type:a,key:s,ref:null,props:o(a.defaultProps,{id:s,index:r,cachedItem:i,store:this.store}),_owner:null}):n.push({$$typeof:l,type:a,key:null,ref:null,props:o(a.defaultProps,{cachedItem:i,store:this.store}),_owner:null})}return n}});e.exports=w},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),i=n(26),s=n(59),p=n(13),u=n(20),a=n(7),d=n(36),c=n(57),f=n(87),m=n(19),h={$$typeof:l,type:m,key:null,ref:null,props:o(m.defaultProps,{}),_owner:null},y=r.createClass({displayName:"StoryListItem",mixins:[c,f,i],propTypes:{store:r.PropTypes.instanceOf(d).isRequired,id:r.PropTypes.number,cachedItem:r.PropTypes.object,index:r.PropTypes.number},getDefaultProps:function(){return{id:null,cachedItem:null,index:null}},getInitialState:function(){return{item:this.props.cachedItem||{}}},componentWillMount:function(){null!=this.props.id?this.initLiveItem(this.props):null!=this.props.cachedItem&&(this.threadState=s.loadState(this.state.item.id))},componentWillUnmount:function(){null!=this.props.id&&this.props.store.removeListener(this.props.id,this.updateThreadState)},componentWillReceiveProps:function(e){null==this.props.id&&null!=e.id&&this.initLiveItem(e)},componentWillUpdate:function(e,t){this.state.item!==t.item&&null!=t.item&&this.props.store.itemUpdated(t.item,this.props.index)},initLiveItem:function(e){a.offlineMode?u.itemRef(e.id).then(function(e){return e.json()}).then(function(e){this.replaceState({item:e})}.bind(this)):this.bindAsObject(p.itemRef(e.id),"item"),this.threadState=s.loadState(e.id),this.props.store.addListener(e.id,this.updateThreadState)},updateThreadState:function(){this.threadState=s.loadState(this.props.id),this.forceUpdate()},render:function(){return this.state.item&&this.state.item.id?this.renderListItem(this.state.item,this.threadState):{$$typeof:l,type:"li",key:null,ref:null,props:{children:h,className:"ListItem ListItem--loading",style:{marginBottom:a.listSpacing}},_owner:null}}});e.exports=y},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function l(e){return!e.dead}function r(e){return p.showDead?e:{comments:e.comments.filter(l),stories:e.stories.filter(l)}}var i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,s=n(3),p=n(7),u=n(37),a=n(140),d=n(139),c=n(86),f=n(19),m=n(88),h=n(38),y=h.ITEMS_PER_PAGE,w=n(90),$=n(29),_={$$typeof:i,type:"div",key:null,ref:null,props:{children:{$$typeof:i,type:f,key:null,ref:null,props:o(f.defaultProps,{size:"20"}),_owner:null},className:"Updates Updates--loading"},_owner:null},k=s.createClass({displayName:"Updates",mixins:[m],getInitialState:function(){return r(u.getUpdates())},componentWillMount:function(){this.setTitle(this.props.type),u.start(),u.on("updates",this.handleUpdates)},componentWillUnmount:function(){u.off("updates",this.handleUpdates),u.stop()},componentWillReceiveProps:function(e){this.props.type!==e.type&&this.setTitle(e.type)},setTitle:function(e){$("New "+("comments"===e?"Comments":"Links"))},handleUpdates:function(e){this.isMounted()&&this.setState(r(e))},render:function(){var e="comments"===this.props.type?this.state.comments:this.state.stories;if(0===e.length)return _;var t=w(this.getPageNumber(),y,e.length);return"comments"===this.props.type?{$$typeof:i,type:"div",key:null,ref:null,props:{children:[e.slice(t.startIndex,t.endIndex).map(function(e){return{$$typeof:i,type:d,key:e.id,ref:null,props:o(d.defaultProps,{id:e.id,comment:e}),_owner:null}}),{$$typeof:i,type:c,key:null,ref:null,props:o(c.defaultProps,{route:"newcomments",page:t.pageNum,hasNext:t.hasNext}),_owner:null}],className:"Updates Comments"},_owner:null}:{$$typeof:i,type:"div",key:null,ref:null,props:{children:[{$$typeof:i,type:"ol",key:null,ref:null,props:{children:e.slice(t.startIndex,t.endIndex).map(function(e){return{$$typeof:i,type:a,key:e.id,ref:null,props:o(a.defaultProps,{item:e}),_owner:null}}),className:"Items__list",start:t.startIndex+1},_owner:null},{$$typeof:i,type:c,key:null,ref:null,props:o(c.defaultProps,{route:"newest",page:t.pageNum,hasNext:t.hasNext}),_owner:null}],className:"Updates Items"},_owner:null}}});e.exports=k},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}var l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,r=n(3),i=n(26),s=n(46).default,p=n(13),u=n(19),a=n(29),d={$$typeof:l,type:u,key:null,ref:null,props:o(u.defaultProps,{size:"20"}),_owner:null},c={$$typeof:l,type:"dt",key:null,ref:null,props:{children:"Created"},_owner:null},f={$$typeof:l,type:"dt",key:null,ref:null,props:{children:"Karma"},_owner:null},m={$$typeof:l,type:"dt",key:null,ref:null,props:{children:"Delay"},_owner:null},h={$$typeof:l,type:"dt",key:null,ref:null,props:{children:"About"},_owner:null},y=r.createClass({displayName:"UserProfile",mixins:[i],getInitialState:function(){return{user:{}}},componentWillMount:function(){this.bindAsObject(p.userRef(this.props.params.id),"user")},componentWillUpdate:function(e,t){this.state.user.id!==t.user.id&&a("Profile: "+t.user.id)},componentWillReceiveProps:function(e){this.props.params.id!==e.params.id&&(this.unbind("user"),this.bindAsObject(p.userRef(e.params.id),"user"))},render:function(){var e=this.state.user;if(!e.id)return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"h4",key:null,ref:null,props:{children:this.props.params.id},_owner:null},d],className:"UserProfile UserProfile--loading"},_owner:null};var t=new Date(1e3*e.created);return{$$typeof:l,type:"div",key:null,ref:null,props:{children:[{$$typeof:l,type:"h4",key:null,ref:null,props:{children:e.id},_owner:null},{$$typeof:l,type:"dl",key:null,ref:null,props:{children:[c,{$$typeof:l,type:"dd",key:null,ref:null,props:{children:[{$$typeof:l,type:s,key:null,ref:null,props:o(s.defaultProps,{date:t}),_owner:null}," (",t.toDateString(),")"]},_owner:null},f,{$$typeof:l,type:"dd",key:null,ref:null,props:{children:e.karma},_owner:null},m,{$$typeof:l,type:"dd",key:null,ref:null,props:{children:e.delay},_owner:null},e.about&&h,e.about&&{$$typeof:l,type:"dd",key:null,ref:null,props:{children:{$$typeof:l,type:"div",key:null,ref:null,props:{className:"UserProfile__about",dangerouslySetInnerHTML:{__html:e.about}},_owner:null}},_owner:null}]},_owner:null}],className:"UserProfile"},_owner:null}}});e.exports=y},function(e,t,n){"use strict";function o(e,t){if(e)for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function l(e,t,n,o){return u.createClass({render:function(){return u.createElement(h,i({},this.props,{key:e,route:e,type:t,limit:n,title:o}))}})}function r(e){return u.createClass({render:function(){return u.createElement(y,i({},this.props,{key:e,type:e}))}})}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,p=n(179),u=n(3),a=n(180),d=n(138),c=n(141),f=n(142),m=n(143),h=n(146),y=n(148),w=n(149),$=l("ask","askstories",200,"Ask"),_=r("comments"),k=l("jobs","jobstories",200,"Jobs"),C=l("newest","newstories",500,"New Links"),g=l("show","showstories",200,"Show"),v=l("news","topstories",500);e.exports={$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{children:[{$$typeof:s,type:p,key:null,ref:null,props:o(p.defaultProps,{component:v}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"news",component:v}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"newest",component:C}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"show",component:g}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"ask",component:$}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"jobs",component:k}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"item/:id",component:c}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"job/:id",component:c}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"poll/:id",component:c}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"story/:id",component:c}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"comment/:id",component:m}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"newcomments",component:_}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"user/:id",component:w}),_owner:null},{$$typeof:s,type:a,key:null,ref:null,props:o(a.defaultProps,{path:"*",component:f}),_owner:null}],path:"/",component:d}),_owner:null}},function(e,t){"use strict";function n(e,t,n){var o,l,r,i,s,p=function a(){var p=Date.now()-i;t>p&&p>0?o=setTimeout(a,t-p):(o=null,n||(s=e.apply(r,l),o||(r=l=null)))},u=function(){r=this,l=arguments,i=Date.now();var u=n&&!o;return o||(o=setTimeout(p,t)),u&&(s=e.apply(r,l),r=l=null),s};return u.cancel=function(){o&&clearTimeout(o)},u}e.exports=n}]);
//# sourceMappingURL=app.js.map